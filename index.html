<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>BOQ Tangki - Bill of Quantity</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background: #f8f9fa;
    }
    h1 {
        text-align: center;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        background: #fff;
    }
    th, td {
        border: 1px solid #333;
        padding: 6px;
        text-align: center;
        font-size: 14px;
    }
    th {
        background: #dedede;
    }
    td input {
        width: 100%;
        border: none;
        text-align: center;
    }
    .right {
        text-align: right;
    }
    .category {
        background: #cfe2ff;
        font-weight: bold;
        text-align: left;
    }
    .total-row {
        background: #e2e3e5;
        font-weight: bold;
    }
    button {
        margin-top: 10px;
        padding: 8px 12px;
        font-size: 14px;
        cursor: pointer;
    }
</style>
</head>

<body>

<h1>BOQ TANGKI (Bill of Quantity)</h1>

<p>
<b>Project :</b> <input type="text" style="width:300px"><br>
<b>Client :</b> <input type="text" style="width:300px"><br>
<b>Date :</b> <input type="date">
</p>

<table id="boqTable">
    <tr>
        <th>No</th>
        <th>Uraian Pekerjaan</th>
        <th>Material</th>
        <th>Qty</th>
        <th>Satuan</th>
        <th>Harga Satuan</th>
        <th>Total</th>
    </tr>

    <tr class="category">
        <td colspan="7">A. FABRIKASI TANGKI</td>
    </tr>

    <tr>
        <td>1</td>
        <td>Shell Plate</td>
        <td>SS304 / CS</td>
        <td><input type="number" oninput="calc()"></td>
        <td>Kg</td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    </tr>

    <tr>
        <td>2</td>
        <td>Bottom Plate</td>
        <td>SS304 / CS</td>
        <td><input type="number" oninput="calc()"></td>
        <td>Kg</td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    </tr>

    <tr>
        <td>3</td>
        <td>Top / Cone Roof</td>
        <td>SS304 / CS</td>
        <td><input type="number" oninput="calc()"></td>
        <td>Kg</td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    </tr>

    <tr class="category">
        <td colspan="7">B. AKSESORIS & NOZZLE</td>
    </tr>

    <tr>
        <td>4</td>
        <td>Nozzle In / Out</td>
        <td>Flange + Pipe</td>
        <td><input type="number" oninput="calc()"></td>
        <td>Set</td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    </tr>

    <tr>
        <td>5</td>
        <td>Manhole</td>
        <td>Complete</td>
        <td><input type="number" oninput="calc()"></td>
        <td>Set</td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    </tr>

    <tr class="category">
        <td colspan="7">C. PEKERJAAN FINISHING</td>
    </tr>

    <tr>
        <td>6</td>
        <td>Welding & Assembly</td>
        <td>-</td>
        <td><input type="number" oninput="calc()"></td>
        <td>LS</td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    </tr>

    <tr>
        <td>7</td>
        <td>Hydrotest / Leak Test</td>
        <td>-</td>
        <td><input type="number" oninput="calc()"></td>
        <td>LS</td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    </tr>

    <tr class="total-row">
        <td colspan="6" class="right">GRAND TOTAL</td>
        <td class="right" id="grandTotal">0</td>
    </tr>
</table>

<button onclick="addRow()">âž• Tambah Item</button>
<button onclick="window.print()">ðŸ–¨ Print / Save PDF</button>

<script>
function calc() {
    let totals = document.querySelectorAll(".total");
    let rows = document.querySelectorAll("#boqTable tr");
    let grand = 0;

    rows.forEach(row => {
        let inputs = row.querySelectorAll("input");
        if (inputs.length === 2) {
            let qty = parseFloat(inputs[0].value) || 0;
            let price = parseFloat(inputs[1].value) || 0;
            let total = qty * price;
            row.querySelector(".total").innerText = total.toLocaleString();
            grand += total;
        }
    });

    document.getElementById("grandTotal").innerText = grand.toLocaleString();
}

function addRow() {
    let table = document.getElementById("boqTable");
    let row = table.insertRow(table.rows.length - 1);

    row.innerHTML = `
        <td></td>
        <td><input></td>
        <td><input></td>
        <td><input type="number" oninput="calc()"></td>
        <td><input></td>
        <td><input type="number" oninput="calc()"></td>
        <td class="right total">0</td>
    `;
}
</script>

</body>
</html>
